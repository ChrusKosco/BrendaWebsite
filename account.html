<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounts</title>
    <link rel="stylesheet" href="styles/index.css">
    <style>
        body {
            font-family: Arial,sans-serif;
            padding: 20px;
            background-image: url(background.jpg);
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed;
        }

        form {
            max-width: 400px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }

        input {
            display: block;
            width: 100%;
            margin-bottom: 10px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1 span style="color: gray;" class="tittle">
        Brenda's Website
    </h1>

    <p>
        By Brenda James
    <p>
        Pages
    </p>
    <!--Pages-->
    <nav>
        <button class="buttons" onclick="document.location='index.html'">
            Home
        </button>

        <button class="buttons" onclick="document.location='store.html'">
            Store
        </button>

        <button class="buttons" onclick="document.location='forum.html'">
            Forum
        </button>

        <button class="buttons" onclick="document.location='tv.html'">
            TV
        </button>

        <button class="buttons" onclick="document.location='account.html'">
            Account
        </button>

        <button class="buttons" onclick="document.location='profile.html'">
            Profile
        </button>

        <button class="buttons" onclick="document.location='aboutus.html'">
            About Us
        </button>
    </nav>

    <h2 style="text-align:center;">Register</h2>
    <form id="registrationForm">
        <input type="text" id="username" placeholder="Username" required>
        <input type="text" id="displayName" placeholder="Display Name" required>
        <input type="email" id="email" placeholder="Email" required>
        <input type="text" id="phone" placeholder="Phone" required>
        <input type="text" id="address" placeholder="Address" required>
        <input type="date" id="birthdate" placeholder="Birthdate" required>
        <select id="gender">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>
        <input type="password" id="password" placeholder="Password" required>
        <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
        <button type="submit">Register</button>
    </form>

    <h2 style="text-align:center;">Login</h2>
    <form id="loginForm">
        <input type="text" id="loginUsername" placeholder="Username" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button type="submit">Login</button>
    </form>

    <script>
        let users = JSON.parse(localStorage.getItem("users")) || [];

        document.getElementById("registrationForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const username = document.getElementById("username").value;
            const displayName = document.getElementById("displayName").value;
            const email = document.getElementById("email").value;
            const phone = document.getElementById("phone").value;
            const address = document.getElementById("address").value;
            const birthdate = document.getElementById("birthdate").value;
            const gender = document.getElementById("gender").value;
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;

            if (password !== confirmPassword) { alert("Passwords do not match"); return; }
            if (users.some(u => u.username === username)) { alert("Username already exists"); return; }

            let rank = "Fresh";
            let status = "Active";
            let joinDate = new Date().toLocaleDateString();
            let timeOnWebsite = "0 min";
            let socialActivity = 0;
            let visitedPages = [];

            // Owner
            if (username === "ChrusKosco") { rank = "Owner"; status = "Active"; }

            let user = { username, profile: { displayName, email, phone, address, birthdate, gender }, password, rank, status, joinDate, timeOnWebsite, socialActivity, visitedPages };
            users.push(user);
            localStorage.setItem("users", JSON.stringify(users));
            alert("Registered successfully!");
            document.getElementById("registrationForm").reset();
        });

        document.getElementById("loginForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const username = document.getElementById("loginUsername").value;
            const password = document.getElementById("loginPassword").value;
            const user = users.find(u => u.username === username && u.password === password);
            if (user) {
                localStorage.setItem("loggedInUser", JSON.stringify(user));
                alert("Login successful!");
                window.location.href = "profile.html";
            } else {
                alert("Invalid username or password!");
            }
        });
    </script>
</body>
</html>
